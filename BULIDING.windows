#!/bin/sh

# set IP address to 192.168.10.11
# set DNS to 8.8.8.8

# install cygwin
# install python 2.7
# install py2exe
# install openssl
# install apt-cyg


/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P asciidoc
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P bash
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P binutils
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P boost
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P bzip2
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P ca-certificates
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P coreutils
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P curl
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P cygwin
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P gcc-core
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P gcc-g++
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P git
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P gnupg
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P grep
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P gzip
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P m4
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P make
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P mingw-gcc-core
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P perl
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P tar
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P unzip
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P wget
/cygdrive/c/Users/vagrant/Desktop/setup-x86.exe -q -P zip

cp /usr/bin/i686-pc-mingw32-gcc-4.7.3 /usr/bin/gcc


mkdir -p /vagrant


cd /vagrant
curl https://pypi.python.org/packages/source/p/pip/pip-1.4.1.tar.gz > pip-1.4.1.tar.gz
tar zxvf pip-1.4.1.tar.gz
cd pip-1.4.1
/cygdrive/c/Python27/python setup.py install


cd /vagrant
curl https://ftp.gnu.org/gnu/gmp/gmp-5.1.3.tar.bz2 > gmp-5.1.3.tar.bz2
bzip2 -d gmp-5.1.3.tar.bz2
tar xvf gmp-5.1.3.tar
cd gmp-5.1.3
./configure
make -j`nproc`
make install


/cygdrive/c/Python27/Scripts/pip install setuptools
/cygdrive/c/Python27/Scripts/pip install pycrypto
/cygdrive/c/Python27/Scripts/pip install obfsproxy
/cygdrive/c/Python27/Scripts/pip install pyptlib
/cygdrive/c/Python27/Scripts/pip install pyinstaller


cd /vagrant
git clone https://github.com/kpdyer/fteproxy.git
cd fteproxy
make -j`nproc`
